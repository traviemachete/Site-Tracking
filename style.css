/* ====== style.css ====== */
html, body { height: 100%; margin: 0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
#map { height: 100%; width: 100%; }

/* ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ */
.side-stack{
  position: absolute;
  top: 14px; right: 14px;
  z-index: 1000;
  display: flex; flex-direction: column;
  gap: 12px; max-width: 420px;
  transition: transform .25s ease, opacity .25s ease;
}
.side-stack.hidden{ transform: translateX(calc(100% + 16px)); opacity: .0; pointer-events: none; }

/* ‡∏õ‡∏∏‡πà‡∏°‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á stack */
.stack-toggle{
  position: absolute;
  top: 14px; right: 14px;
  z-index: 1001;
  width: 28px; height: 28px; border-radius: 14px;
  border: 1px solid #d0d5dd; background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,.12);
  cursor: pointer; font-weight: 700;
  display: grid; place-items: center;
  transition: transform .25s ease;
}
.side-stack.hidden ~ .stack-toggle{ transform: rotate(180deg); } /* ‡∏´‡∏°‡∏∏‡∏ô‡∏•‡∏π‡∏Å‡∏®‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏ô */

/* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô */
.panel{
  background:#fff; border:1px solid #ddd; border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.12);
}
.panel-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; border-bottom:1px solid #eee;
}
.panel-title{ font-weight:800; }
.collapse-btn{
  border:1px solid #d0d5dd; background:#f8f9fb; border-radius:8px;
  padding:2px 8px; cursor:pointer; font-weight:700;
}
.panel-body{ padding:10px 12px; }

/* ‡∏û‡∏±‡∏ö/‡∏Å‡∏≤‡∏á panel */
.panel-collapsible.is-collapsed .panel-body{
  max-height:0; overflow:hidden; padding-top:0; padding-bottom:0;
  transition:max-height .25s ease, padding .2s ease;
}
.panel-collapsible .panel-body{ transition:max-height .25s ease, padding .2s ease; }

/* ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ filter */
.filter-row{ display:grid; grid-template-columns: 1fr 1fr; gap:8px 10px; }
.filter-row label{ display:flex; flex-direction:column; gap:6px; font-weight:600; }
.filter-row select{ padding:6px 8px; border:1px solid #d0d5dd; border-radius:8px; background:#fff; font-size:13px; }
.filter-actions{ display:flex; justify-content:space-between; align-items:center; gap:8px; margin-top:10px; }
#btn-reset{ padding:6px 10px; border:1px solid #d0d5dd; border-radius:8px; background:#f7f7f7; cursor:pointer; font-weight:600; }
#btn-reset:hover{ background:#efefef; }
.count{ font-weight:600; }

/* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏£‡∏∏‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô */
.stats-panel{ font-size:13px; }
.stats-grid{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; margin-bottom:10px; }
.stats-grid.two{ grid-template-columns:1fr 1fr; }
.stat{ background:#f8fafc; border:1px solid #e5e7eb; border-radius:8px; padding:8px 10px; text-align:center; }
.stat-label{ color:#475569; font-weight:700; }
.stat-value{ font-size:20px; font-weight:900; margin-top:4px; }
.stats-subheader{ font-weight:800; margin:8px 0 6px; }

/* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á Type */
.type-table{ width:100%; border-collapse:collapse; font-size:12.5px; }
.type-table th, .type-table td{ padding:6px 8px; border-bottom:1px solid #eee; }
.type-table th{ text-align:left; color:#475569; }
.type-table .th-right{ text-align:right; }   /* üëâ ‡∏´‡∏±‡∏ß‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‚Äù ‡∏ä‡∏¥‡∏î‡∏Ç‡∏ß‡∏≤ */
.type-table td:last-child{ text-align:right; font-weight:700; } /* ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ä‡∏¥‡∏î‡∏Ç‡∏ß‡∏≤ */

/* Legend */
.legend{
  position:absolute; bottom:14px; left:14px; z-index:999;
  background:#fff; padding:8px 10px; border:1px solid #ddd; border-radius:6px;
  font-size:12px; line-height:1.4; box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.legend .dot{ display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:6px; vertical-align:middle; }

/* ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠: ‡∏ã‡πà‡∏≠‡∏ô stack ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏¥‡∏î */
@media (max-width: 640px){
  .side-stack{ max-width: 92vw; }
  .filter-row{ grid-template-columns:1fr; }
}
